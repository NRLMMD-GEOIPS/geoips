bug fix:
- title: 'Fix segfault issue in FCI reader'
  description: |
    Refactor the FCI reader to remove dependency on using the satpy FCI reader. The
    satpy reader causes a segfault when converting a dask array to a numpy array. No
    idea why....

    Added a new function that allows us to toggle between using the satpy reader, vs
    using xarray to open the data and convert radiances to reflectances or brightness
    temperatures. There are differences in the output imagery, so updated the comparison
    outputs to use the reflectances/brightness temperatures generated by the new
    read_with_xarray function.

    Disabled the sun_zen_correction in the fci product YAML for the visible product, as
    this correction was causing washed out reflectances near the scan edge.
  files:
    deleted:
    - 'tests/outputs/fci.static.Visible.imagery_annotated/20240113.115000.MTG-I1.fci.Visible.global.26p10.EUMETSAT.20p0.png'
    moved:
    - ''
    added:
    - 'tests/outputs/fci.static.Visible.imagery_annotated/20240113.115000.MTG-I1.fci.Visible.global.26p09.EUMETSAT.20p0.png'
    modified:
    - 'geoips/plugins/modules/readers/fci_netcdf.py'
    - 'geoips/plugins/yaml/products/fci.yaml'
    - 'tests/outputs/fci.unprojected_image.Infrared/20240113.115000.MTG-I1.fci.Infrared.self_register.71p89.EUMETSAT.50p0.png'
  date:
    start: 2025-04-14
    finish: 2025-04-25
