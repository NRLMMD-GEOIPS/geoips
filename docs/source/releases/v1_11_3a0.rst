 | # # # Distribution Statement A. Approved for public release. Distribution unlimited.
 | # # #
 | # # # Author:
 | # # # Naval Research Laboratory, Marine Meteorology Division
 | # # #
 | # # # This program is free software: you can redistribute it and/or modify it under
 | # # # the terms of the NRLMMD License included with this program. This program is
 | # # # distributed WITHOUT ANY WARRANTY; without even the implied warranty of
 | # # # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the included license
 | # # # for more details. If you did not receive the license, for more information see:
 | # # # https://github.com/U-S-NRL-Marine-Meteorology-Division/

Version 1.11.3a0 (2023-08-19)
*****************************

* Require sphinx<7.2 due to bugs introduced 2023-08-17 7.2.x release
* Add .vscode settings repository to "full_install.sh"
* Add script to enable geoips environment
* Replace xRITDecompress with pyPublicDecompWT for seviri_hrit reader
* Use matplotlib_linear_norm colormapper for tpw_cimss and tpw_purple
* Add interactive log level, and include useful interactive logs
* Bug fixes

Bug Fixes
=========

Add v1_11_3a0 to release note index
-----------------------------------

Documentation build fails when RST files are missing from the index.

::

  modified: docs/source/releases/index.rst

Require sphinx<7.2 in pyproject.toml
------------------------------------

Sphinx version 7.2 introduced a bug in the autodoc function, causing an import
error in the interp_gauss module.  Force sphinx version < 7.2 until that error
has been resolved.

::

  modified: pyproject.toml

Enhancements
============

Add interactive log level, and include useful interactive logs
--------------------------------------------------------------

The following files required interactive log statements:

::

  modified:   geoips/commandline/run_procflow.py
  modified:   geoips/compare_outputs.py
  modified:   geoips/plugins/modules/procflows/config_based.py
  modified:   geoips/plugins/modules/procflows/single_source.py


The following files were modified to no longer include interactive logs:

::

  modified:   geoips/data_manipulations/corrections.py
  modified:   geoips/geoips_utils.py
  modified:   geoips/image_utils/mpl_utils.py
  modified:   geoips/plugins/modules/readers/utils/geostationary_geolocation.py
  modified:   geoips/xarray_utils/data.py

Replace xRITDecompress with pyPublicDecompWT for seviri_hrit reader
-------------------------------------------------------------------

*From NRLMMD-GEOIPS/geoips#264: 2023-08-16, Update seviri reader to use pyPublicDecompWT*

* We had previously been using xRITDecompress which needed to be complied and installed
  separately. This replaces xRITDecompress with pyPublicDecompWT which provides the same
  functionality but can be pip installed.

::

    modified: geoips/plugins/modules/readers/utils/hrit_reader.py

Installation Updates
====================

Collect test data from CIRA's NextCloud instance
------------------------------------------------

* Remove old functions for setting up test data repos
* Change gcc and gxx requirements to be unrestricted, not less than v10
* Add new script to download from nextcloud without wget/curl
* Add static URLs for downloading test datasets
* Add "test_data" function to check_system_requirements.sh to download test datasets
* Remove tests for gitlfs, wget, libgeos, and rclone
* Add tests for gcc and g++
* Split system package tests into "geoips_base" and "geoips_full"
* Update install instructions to remove unneeded prerequisites

::

    modified: setup.sh
    modified: setup/check_system_requirements.sh
    modified: tests/integration_tests/base_install.sh
    modified: tests/integration_tests/full_install.sh
    modified: docs/source/starter/installation.rst
    modified: docs/source/starter/expert_installation.rst
    created: setup/download_test_data.py


Add pyPublicDecompWT to dependencies and remove setup_seviri from setup script
------------------------------------------------------------------------------

*From NRLMMD-GEOIPS/geoips#264: 2023-08-16, Update seviri reader to use pyPublicDecompWT*

* Add pypublicdecompwt to install requirements
* Remove setup_seviri from setup.py
* Remove xRITDecompress environment variables from config_geoips

::

    modified: pyproject.toml
    modified: setup_seviri
    modified: config/config_geoips

Installation Updates
====================

Add Mac installation instructions
---------------------------------

Added Mac installation instructions in mac_installation.rst and added link in the
readme. Also reworked order of Linux installation.

::

    modified: docs/source/starter/installation.rst
    created: docs/source/starter/mac_installation.rst
    modified: README.md

Add .vscode repository to full Installation
-------------------------------------------

When running full_install.sh/full_test.sh, ensure the .vscode repository is
cloned along with other source repos.

Also added "settings_repo" option to check_system_requirements (only clones,
does not attempt to pip install or uncompress test data)

::

  modified: tests/integration_tests/full_install.sh
  modified: setup/check_system_requirements.sh

Add script to enable geoips environment
---------------------------------------

Include script that sets explicit paths for geoips environment setup.

::

  new: setup/USER_MODIFY_config

Refactoring Updates
===================

Change the specification of tpw_cimss and tpw_purple colormappers
-----------------------------------------------------------------

The previous tpw_(cimss/purple) colormappers were fully defined via their own
plugins/modules/colormappers/<cmap_name>.py programs. Now, these two color mappers are
defined fully in their associated product_defaults YAML files. This removes the
complexity of these colormappers, and is an easier implementation to follow for the
future.

::

    deleted: geoips/geoips/plugins/modules/colormappers/tpw/tpw_cimss.py
    deleted: geoips/geoips/plugins/modules/colormappers/tpw/tpw_cimss.py
    modified: geoips/geoips/plugins/yaml/product_defaults/tpw/TPW-CIMSS.yaml
    modified: geoips/geoips/plugins/yaml/product_defaults/tpw/TPW-PURPLE.yaml
    modified: geoips/pyproject.toml
