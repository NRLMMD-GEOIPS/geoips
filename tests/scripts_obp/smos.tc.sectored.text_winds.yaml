# # # This source code is subject to the license referenced at
# # # https://github.com/NRLMMD-GEOIPS.

# cspell:ignore bdecks cfnoc sdrmi tdrmi

# Default values - if you do not have this exact test case available, call with available data files / sectors.
# This exact test case required for valid comparisons - update the "compare_path" argument or remove the output_checker step

apiVersion: geoips/v1
interface: workflows
family: order_based
name: read_test_v1
product_name: sectored
test:
  - $GEOIPS_TESTDATA_DIR/test_data_ssmi/data/US058SORB-DEFspp.sdrmi_f15_d20200519_s080800_e095300_r05633_cfnoc.def
docstring: |
  The sectored product_defaults configuration for smos-spd products.
description: The sectored product_defaults configuration for smos-spd products.
spec:
  log_level: info
  steps:
    reader:
      kind: reader
      name: smos_winds_netcdf
      arguments: {variables: ["wind_speed_kts"] }
    filename_formatter:
      kind: filename_formatter
      name: text_winds_tc_fname
      arguments: { }
    output_formatter:
      kind: output_formatter
      name: text_winds
      arguments: { }
    # trackfile_parser:
    #   kind: trackfile_parser
    #   name: bdeck_parser
    #   trackfiles: $GEOIPS_PACKAGES_DIR/geoips/tests/sectors/tc_bdecks/bsh162020.dat 
    output_checker:
      kind: output_checker
      name: output_checker_default
      arguments:
        compare_path: "$GEOIPS_PACKAGES_DIR/geoips/tests/outputs/smos.tc.sectored.text_winds"
