# # # This source code is subject to the license referenced at
# # # https://github.com/NRLMMD-GEOIPS.

# cspell:ignore cfnoc sdris

# Default values - if you do not have this exact test case available, call with available data files / sectors.
# This exact test case required for valid comparisons - update the "compare_path" argument or remove the output_checker step

apiVersion: geoips/v1
interface: workflows
family: order_based
name: read_test_v1
product_name: color91
test:
  - $GEOIPS_TESTDATA_DIR/test_data_ssmis/data/US058SORB-RAWspp.sdris_f16_d20200519_s084400_e102900_r85579_cfnoc.raw
docstring: |
  color91.

  The color91 product_defaults configuration for ssmis products.
description: color91.
spec:
  log_level: info
  steps:
    reader:
      kind: reader
      name: ssmis_binary
      arguments: {
        variables: ["H91", "V91"]
       }
    interpolator:
      kind: interpolator
      name: interp_gauss
      arguments:
        sigmaval: 10000
    algorithm:
      plugin:
      name: pmw_color89
      arguments: {}
    # mtif_type: rgb
    colormapper:
      plugin:
      name: cmap_rgb
      arguments: {}
    coverage_checker:
      plugin:
      name: rgba
      arguments: {}
    filename_formatter:
      kind: filename_formatter
      name: geoips_fname
      arguments: { }
    output_formatter:
      kind: output_formatter
      name: unprojected_image
      arguments: { }
    output_checker:
      kind: output_checker
      name: output_checker_default
      arguments:
        compare_path: "$GEOIPS_PACKAGES_DIR/geoips/tests/outputs/ssmis.color91.unprojected_image"
